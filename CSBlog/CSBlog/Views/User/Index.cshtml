@using CSBlog.Models.User
@using NuGet.Protocol
@model ICollection<CSBlog.Models.User.BlogUser>
@inject UserManager<BlogUser> BlogUserManager
@* @model dynamic *@
@* @model CSBlog.Core.ViewModels.EditUserViewModel *@

@{
  ViewData["Title"] = "User Page";
  Layout = "_Layout";
}

<h2>User View Index</h2>
@* ReSharper disable once ConditionIsAlwaysTrueOrFalseAccordingToNullableAPIContract *@
@if (Model != null && Model.Any())
{
  <table class="table table-hover">
    <thead>
    <tr>
      <th scope="col">Role(s)</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Email</th>
      <th scope="col">Edit</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var user in Model)
    {
      <tr>
        <th scope="row">@BlogUserManager.GetRolesAsync(user).Result.ToJson()</th>
        <td>@user.FirstName</td>
        <td>@user.LastName</td>
        <td>@user.Email</td>
        <td>
          <a asp-controller="User" asp-action="Edit" asp-route-id="@user.Id">Edit</a>
        </td>

      </tr>

    @* <tr class="table-light"> *@
    @*   <th scope="row">Light</th> *@
    @*   <td>Column content</td> *@
    @*   <td>Column content</td> *@
    @*   <td>Column content</td> *@
    @* </tr> *@
    }
    </tbody>
  </table>
}